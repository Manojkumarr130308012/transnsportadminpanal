(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{Mtsd:function(e,t,o){"use strict";o.r(t),o.d(t,"GoodstypeModule",function(){return y});var i=o("ofXK"),s=o("3Pt+"),c=o("tyNb"),l=o("lDzL"),r=o("5eHb"),d=o("PSD3"),a=o.n(d),n=o("CzMn"),b=o("fXoL"),u=o("1kSV");function h(e,t){if(1&e&&(b.Ub(0,"div",31),b.Ub(1,"div"),b.Ic(2),b.Tb(),b.Tb()),2&e){const e=t.row;b.Bb(2),b.Jc(e.GoodsName)}}function m(e,t){if(1&e){const e=b.Vb();b.Ub(0,"span"),b.Ub(1,"button",32),b.ec("click",function(){b.Ac(e);const o=t.row,i=t.rowIndex,s=b.ic(),c=b.xc(45);return s.editRow(o,i,c)}),b.Pb(2,"i",33),b.Tb(),b.Ub(3,"button",34),b.ec("click",function(){b.Ac(e);const o=t.row;return b.ic().deleteSingleRow(o)}),b.Pb(4,"i",35),b.Tb(),b.Tb()}}function f(e,t){1&e&&(b.Ub(0,"small",51),b.Ic(1,"goodsname is required"),b.Tb())}function g(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div",36),b.Ub(1,"h4",37),b.Ub(2,"div",38),b.Ub(3,"div",39),b.Ub(4,"div",40),b.Ic(5," New goodsname"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"button",41),b.ec("click",function(){return t.$implicit.dismiss()}),b.Ub(7,"span",42),b.Ub(8,"i",21),b.Ic(9,"close"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(10,"div",43),b.Ub(11,"form",44),b.ec("ngSubmit",function(){b.Ac(e);const t=b.ic();return t.onAddRowSave(t.register)}),b.Ub(12,"div",6),b.Ub(13,"div",7),b.Ub(14,"label"),b.Ic(15,"goodsname "),b.Ub(16,"span",45),b.Ic(17,"*"),b.Tb(),b.Tb(),b.Pb(18,"input",46),b.Gc(19,f,2,0,"small",47),b.Tb(),b.Tb(),b.Ub(20,"div",48),b.Ub(21,"button",49),b.Ic(22,"Submit"),b.Tb(),b.Ub(23,"button",50),b.ec("click",function(){return t.$implicit.close("Close click")}),b.Ic(24,"Close"),b.Tb(),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.ic();b.Bb(11),b.nc("formGroup",e.register),b.Bb(8),b.nc("ngIf",!e.register.get("GoodsName").valid&&e.register.get("GoodsName").touched),b.Bb(2),b.nc("disabled",!e.register.valid)}}function p(e,t){1&e&&(b.Ub(0,"small",51),b.Ic(1,"Goodsname is required"),b.Tb())}function v(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div",36),b.Ub(1,"h4",37),b.Ub(2,"div",38),b.Ub(3,"div",39),b.Ub(4,"div",40),b.Ic(5),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"button",41),b.ec("click",function(){return t.$implicit.dismiss("Cross click")}),b.Ub(7,"span",42),b.Ub(8,"i",21),b.Ic(9,"close"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(10,"div",43),b.Ub(11,"form",52),b.ec("ngSubmit",function(){b.Ac(e);const t=b.ic();return t.onEditSave(t.editForm)}),b.Ub(12,"div",6),b.Ub(13,"div",7),b.Ub(14,"label"),b.Ic(15,"goodsname "),b.Ub(16,"span",45),b.Ic(17,"*"),b.Tb(),b.Tb(),b.Pb(18,"input",46),b.Gc(19,p,2,0,"small",47),b.Tb(),b.Tb(),b.Ub(20,"div",48),b.Ub(21,"button",49),b.Ic(22,"Save"),b.Tb(),b.Ub(23,"button",50),b.ec("click",function(){return t.$implicit.close()}),b.Ic(24,"Close"),b.Tb(),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.ic();b.Bb(5),b.Kc(" ",null==e.selectedRowData?null:e.selectedRowData.GoodsName,""),b.Bb(6),b.nc("formGroup",e.editForm),b.Bb(8),b.nc("ngIf",!e.editForm.get("GoodsName").valid&&e.editForm.get("GoodsName").touched),b.Bb(2),b.nc("disabled",!e.editForm.valid)}}const T=[{path:"",component:(()=>{class e{constructor(e,t,o,i){this.fb=e,this.modalService=t,this.toastr=o,this.request=i,this.rows=[],this.scrollBarHorizontal=window.innerWidth<1200,this.newUserImg="assets/images/users/user-2.png",this.data=[],this.filteredData=[],this.loadingIndicator=!0,this.isRowSelected=!1,this.reorderable=!0,this.selected=[],this.columns=[{name:"GoodsName"}],this.genders=[{id:"1",value:"male"},{id:"2",value:"female"}],this.statusType=[{id:"1",value:"Active"},{id:"2",value:"Completed"},{id:"3",value:"Pending"}],this.designationType=[{id:"1",value:"Manager"},{id:"2",value:"Team Leader"},{id:"3",value:"Clerk"}],this.editForm=this.fb.group({GoodsName:["",[s.s.required]]}),window.onresize=()=>{this.scrollBarHorizontal=window.innerWidth<1200}}onSelect({selected:e}){this.selected.splice(0,this.selected.length),this.selected.push(...e),this.isRowSelected=0!==this.selected.length}deleteSelected(){a.a.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#8963ff",cancelButtonColor:"#fb7823",confirmButtonText:"Yes"}).then(e=>{e.value&&(this.selected.forEach(e=>{this.deleteRecord(e)}),this.deleteRecordSuccess(this.selected.length),this.selected=[],this.isRowSelected=!1)})}ngOnInit(){this.viewdata(),this.register=this.fb.group({GoodsName:["",[s.s.required]]})}fetch(e){this.request.getgoodstype().subscribe(t=>{console.log(t),e(t)},e=>{console.log(e)})}addRow(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"}),this.register.patchValue({id:this.getId(10,100),img:this.newUserImg})}editRow(e,t,o){this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",size:"lg"}),this.request.fetchgoodstypeById(e._id).subscribe(t=>{this.editcustmergroup=t[0],console.log(t),this.GoodsNamenamevalue=this.editcustmergroup.GoodsName,this.IdValue=this.editcustmergroup._id,this.editForm.setValue({GoodsName:this.GoodsNamenamevalue}),this.selectedRowData=e})}deleteSingleRow(e){a.a.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#8963ff",cancelButtonColor:"#fb7823",confirmButtonText:"Yes"}).then(t=>{t.value&&(this.deleteRecord(e),this.deleteRecordSuccess(1))})}deleteRecord(e){console.log("row",e._id),this.request.deletegoodstype(e._id).subscribe(e=>{console.log(e),this.viewdata()},e=>{console.log(e)})}arrayRemove(e,t){return e.filter(function(e){return e.id!==t})}onAddRowSave(e){console.log(e.value),this.request.addgoodstype(e.value).subscribe(t=>{"success"==t.status?(console.log(t),e.reset(),this.modalService.dismissAll(),this.viewdata(),this.addRecordSuccess()):"error"==t.status&&(console.log("res",t),e.reset(),this.modalService.dismissAll())},t=>{console.log("error",t),e.reset(),this.modalService.dismissAll()})}viewdata(){this.fetch(e=>{this.data=e,this.Customers=e.response,this.filteredData=e.response,setTimeout(()=>{this.loadingIndicator=!1},500)})}onEditSave(e){this.request.updategoodstype(this.IdValue,{GoodsName:e.value.GoodsName}).subscribe(e=>{if("success"==e.status)return this.modalService.dismissAll(),this.viewdata(),this.editRecordSuccess(),!0;"error"==e.status&&this.modalService.dismissAll()},e=>{console.log(e),this.modalService.dismissAll()})}filterDatatable(e){const t=e.target.value.toLowerCase(),o=this.columns.length,i=Object.keys(this.filteredData[0]);this.Customers=this.filteredData.filter(function(e){for(let s=0;s<o;s++)if(-1!==e[i[s]].toString().toLowerCase().indexOf(t)||!t)return!0}),this.table.offset=0}getId(e,t){return Math.floor(Math.random()*(t-e+1)+e)}addRecordSuccess(){this.toastr.success("Add Record Successfully","")}editRecordSuccess(){this.toastr.success("Edit Record Successfully","")}deleteRecordSuccess(e){this.toastr.error(e+" Records Deleted Successfully","")}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(s.b),b.Ob(u.d),b.Ob(r.b),b.Ob(n.a))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-goodstype"]],viewQuery:function(e,t){if(1&e&&(b.Mc(l.c,1),b.Mc(l.c,1)),2&e){let e;b.wc(e=b.fc())&&(t.table=e.first),b.wc(e=b.fc())&&(t.table2=e.first)}},features:[b.Ab([r.b])],decls:46,vars:19,consts:[[1,"main-content"],[1,"section-body",2,"margin-top","20px"],[1,"row","clearfix"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"p-10"],[1,"row"],[1,"col-lg-6"],[1,"row","m-0"],[1,"col-lg-3","p-0"],[1,"ngxTableHeader"],[1,"table-title"],[1,"col-lg-5","p-0"],[1,"table-search-area"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"col-lg-4","p-0"],[1,"header-buttons-left"],[1,"icon-button-demo","buttons"],[1,"btn","btn-icon","icon-left","btn-primary","rounded-button",3,"click"],[1,"material-icons"],[1,"btn","btn-icon","icon-left","btn-danger","rounded-button",3,"hidden","click"],["columnMode","force","rowHeight","auto",1,"material",3,"rows","loadingIndicator","headerHeight","footerHeight","limit","scrollbarH","reorderable","selected","selectionType","select"],["table",""],[3,"width","sortable","draggable","resizeable","canAutoResize","headerCheckboxable","checkboxable"],["name","Name",3,"width"],["ngx-datatable-cell-template",""],["name","Actions","sortable","false",3,"width"],["addRecord",""],["editRecord",""],[1,"name-col-style"],[1,"btn","btn-tbl-edit","h-auto",3,"click"],[1,"fas","fa-pen"],[1,"btn","btn-tbl-delete","h-auto",3,"click"],[1,"far","fa-trash-alt"],[1,"modal-header","editRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"table-modal-header"],[1,"modal-about"],[1,"font-weight-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"register-form",3,"formGroup","ngSubmit"],[1,"text-danger"],["type","text","placeholder","name","formControlName","GoodsName","required","",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-light",3,"click"],[1,"form-text","text-danger"],[3,"formGroup","ngSubmit"]],template:function(e,t){if(1&e){const e=b.Vb();b.Ub(0,"p"),b.Ic(1,"goodstype works!"),b.Tb(),b.Ub(2,"section",0),b.Ub(3,"div",1),b.Ub(4,"div",2),b.Ub(5,"div",3),b.Ub(6,"div",4),b.Ub(7,"div",5),b.Ub(8,"div",6),b.Ub(9,"div",7),b.Ub(10,"div",8),b.Ub(11,"div",9),b.Ub(12,"div",10),b.Ub(13,"div",11),b.Ub(14,"h2"),b.Ub(15,"strong"),b.Ic(16,"Customer"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(17,"div",12),b.Ub(18,"div",10),b.Ub(19,"div",13),b.Ub(20,"div"),b.Ub(21,"label",14),b.Ub(22,"i",15),b.Ic(23,"search"),b.Tb(),b.Tb(),b.Ub(24,"input",16),b.ec("keyup",function(e){return t.filterDatatable(e)}),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(25,"div",17),b.Ub(26,"div",10),b.Ub(27,"div",18),b.Ub(28,"div",19),b.Ub(29,"button",20),b.ec("click",function(){b.Ac(e);const o=b.xc(43);return t.addRow(o)}),b.Ub(30,"i",21),b.Ic(31,"add"),b.Tb(),b.Tb(),b.Ub(32,"button",22),b.ec("click",function(){return t.deleteSelected()}),b.Ub(33,"i",21),b.Ic(34,"delete"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(35,"ngx-datatable",23,24),b.ec("select",function(e){return t.onSelect(e)}),b.Pb(37,"ngx-datatable-column",25),b.Ub(38,"ngx-datatable-column",26),b.Gc(39,h,3,1,"ng-template",27),b.Tb(),b.Ub(40,"ngx-datatable-column",28),b.Gc(41,m,5,0,"ng-template",27),b.Tb(),b.Tb(),b.Gc(42,g,25,3,"ng-template",null,29,b.Hc),b.Gc(44,v,25,4,"ng-template",null,30,b.Hc),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb()}2&e&&(b.Bb(32),b.nc("hidden",!t.isRowSelected),b.Bb(3),b.nc("rows",t.Customers)("loadingIndicator",t.loadingIndicator)("headerHeight",60)("footerHeight",80)("limit",10)("scrollbarH",t.scrollBarHorizontal)("reorderable",t.reorderable)("selected",t.selected)("selectionType","checkbox"),b.Bb(2),b.nc("width",70)("sortable",!1)("draggable",!1)("resizeable",!1)("canAutoResize",!1)("headerCheckboxable",!0)("checkboxable",!0),b.Bb(1),b.nc("width",200),b.Bb(2),b.nc("width",100))},directives:[l.c,l.b,l.a,s.u,s.j,s.e,s.a,s.i,s.d,s.q,i.m],styles:[""]}),e})()}];let U=(()=>{class e{}return e.\u0275mod=b.Mb({type:e}),e.\u0275inj=b.Lb({factory:function(t){return new(t||e)},imports:[[c.f.forChild(T)],c.f]}),e})();var w=o("mkVx"),S=o("tk/3");let y=(()=>{class e{}return e.\u0275mod=b.Mb({type:e}),e.\u0275inj=b.Lb({factory:function(t){return new(t||e)},imports:[[i.c,s.f,s.p,U,l.d,S.c,r.a.forRoot(),w.a]]}),e})()}}]);